schema: '2.0'
stages:
  preprocess_train:
    cmd: python3 src/preprocess.py "data/HistoricDump.tsv"
    deps:
    - path: data/HistoricDump.tsv
      md5: 102f1f4193e0bdebdd6cce7f13e0a839
      size: 54686
    - path: src/preprocess.py
      md5: 87e258112b5194a60d54b905a4ac66c3
      size: 2154
    outs:
    - path: data/preprocessed_HistoricDump.tsv
      md5: 5fb43a68c3ec5b122224b5fcf73aaada
      size: 31609
  preprocess_test:
    cmd: python3 src/preprocess.py "data/FreshDump.tsv"
    deps:
    - path: data/FreshDump.tsv
      md5: 097c8b95f6b255e5a6a06b29d61fef8e
      size: 6504
    - path: src/preprocess.py
      md5: 87e258112b5194a60d54b905a4ac66c3
      size: 2154
    outs:
    - path: data/preprocessed_FreshDump.tsv
      md5: c32e82b06050522c3aa13b2b1b8e0b57
      size: 3472
  train:
    cmd: python3 src/train.py "data/preprocessed_HistoricDump.tsv"
    deps:
    - path: data/preprocessed_HistoricDump.tsv
      md5: 5fb43a68c3ec5b122224b5fcf73aaada
      size: 31609
    - path: src/train.py
      md5: 3ffae1b1f882faf9ec3bab64a7e18bca
      size: 3040
    outs:
    - path: output/bow.pkl
      md5: 06b7eb39807fa476eb78616a15e0ab0f
      size: 39826
    - path: output/model
      md5: 24b1c47d8d4e0cfe490370fb7a3e470b
      size: 46215
    - path: output/performance.json
      md5: cc191d7a34d947e8675be51e68d17470
      size: 96
  test:
    cmd: python3 src/production.py "data/preprocessed_FreshDump.tsv"
    deps:
    - path: data/preprocessed_FreshDump.tsv
      md5: c32e82b06050522c3aa13b2b1b8e0b57
      size: 3472
    - path: output/bow.pkl
      md5: 06b7eb39807fa476eb78616a15e0ab0f
      size: 39826
    - path: output/model
      md5: 24b1c47d8d4e0cfe490370fb7a3e470b
      size: 46215
    - path: src/production.py
      md5: 71ef64bc2f58f5a5fa0985c9f7c5be8c
      size: 1339
